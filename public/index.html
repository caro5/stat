<!DOCTYPE html>
<html ng-app="stackdApp">
  <head>
    <meta charset="utf-8"> 
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/d3/d3.js"></script>
    <script src="bower_components/nvd3/build/nv.d3.js"></script> <!-- or use another assembly -->
    <script src="bower_components/angular-nvd3/dist/angular-nvd3.js"></script>
    <link rel="stylesheet" href="bower_components/nvd3/build/nv.d3.css">
<link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Raleway:700,400' rel='stylesheet' type='text/css'>
    <link href="./public/stylesheets/style.css" rel="stylesheet" type="text/css">

   <script src="./public/pubApp.js"></script>
  </head>

  <body class="container" ng-controller="SearchController as searchCtrl">
    <div class="title">
      stat
    </div>

    <div class="top-container" ng-show="searchCtrl.showData">
      <div class="topic">
        {{searchCtrl.newData.topic}}
      </div>

      <div class="search-again-button">
        <button class="searchButton" ng-click="searchCtrl.showData = !searchCtrl.showData"><img src="./images/magnifierwhitethick.png" alt="search" style="height:43%"></button>
      </div>
    </div>

    <div class="search-bar" ng-show="!searchCtrl.showData">
      <div class="searchInput"><input ng-model="searchTerm" placeholder="enter term"></input></div>
      <button class="searchButton" ng-click="searchCtrl.search(searchTerm)"><img src="./images/magnifierwhitethick.png" alt="search" style="height:43%"></button>
    </div>

    <div class="chart" ng-show="searchCtrl.showData">
      <nvd3 options="searchCtrl.options" data="searchCtrl.data" refreshDataOnly="true" objectEquality="true"></nvd3>
    </div>

    <div class="bottom-container">
      <div class="dashboard section-1" ng-show="searchCtrl.showData">
        
        <div>
          <h3>Top Values</h3>
          <ul>
            <li ng-repeat="value in searchCtrl.newData.topValues track by $index">{{value.key}}</li>
          </ul>
        </div>
      </div>

      <div class="top-values section-2" ng-show="searchCtrl.showData">

        <div>
          <h3>Percentage:</h3> {{searchCtrl.data[0].values[0].value}}%
        </div>
        <div class="top-comment">
          <h3>Top Comment</h3>
          <p>{{searchCtrl.newData.topComment}}</p>
        </div>
        
      </div>

      <div class="comments section-3" ng-show="searchCtrl.showData">
        <div class="positive-comments">
          <h3>Positive Comments</h3>
          <ul>
            <li ng-repeat="comment in searchCtrl.newData.posComments track by $index">{{comment}}</li>
          </ul>
        </div>
        <div class="negative-comments">
          <h3>Negative Comments</h3>
          <ul>
            <li ng-repeat="comment in searchCtrl.newData.negComments track by $index">{{comment}}</li>
          </ul>
        </div>
      </div>
    </div>

  </body>
</html>